<!DOCTYPE>
<html>

<head>
    <meta charset="uff-8">
    <title>IFE JavaScript Task 07</title>
    <style type="text/css">
        html {
            width: 100%;
            height: 100%;
            margin: 0;
        }

        .tree {
            flex: flex;
            display: -webkit-flex;
            flex-direction: column;
            border: 1px solid gray;
            background-color: white;
            padding: 10px;
            margin: 10px;
        }
    </style>
</head>

<body>
    <div class="tree" id="root">
        <div class='tree'>
            <div class='tree'>
                <div class='tree'></div>
                <div class='tree'></div>
            </div>
            <div class='tree'>
                <div class='tree'></div>
                <div class='tree'></div>
            </div>
        </div>
        <div class='tree'>
            <div class='tree'>
                <div class='tree'></div>
                <div class='tree'></div>
            </div>
            <div class='tree'></div>
        </div>
    </div>
    <button id="pre">前序</button>
    <button id="in">中序</button>
    <button id="post">后序</button>

    <script tpye="text/javascript">
        /**
             * 前序遍历
            */
        function preOrder(root) {
            root.style.border = "1px solid blue";
            setTimeout(function () {
                var children = root.children;
                if (children.length === 1) {
                    preOrder(children[0]);
                } else if (children.length === 2) {
                    preOrder(children[0]);
                    preOrder(children[1]);
                }
            }, 1000);
        }

        /**
         * 中序遍历
        */
        function inOrder(root) {
            var children = root.children;
            if (children.length >= 1) {
                inOrder(children[0]);
            }
            root.style.border = "1px solid green";
            if (children.length === 2) {
                setTimeout(function () {
                    inOrder(children[1]);
                }, 1000);

            }
        }


        function postOrder (root) {
            var children = root.children;
            if (children.length === 1) {
                setTimeout(function () {
                    postOrder(children[0]);
                }, 1000);
               
            } else if (children.length === 2) {
                setTimeout(function () {
                    postOrder(children[0]);
                }, 1000);
                setTimeout(function () {
                    postOrder(children[1]);
                }, 2000);
            }
            root.style.border = '1px solid grey';
            
        }

        function init() {
            var root = document.getElementById("root");
            document.getElementById('pre').onclick = function () {
                preOrder(root);
            }
            document.getElementById('in').onclick = function () {
                inOrder(root);
            }
            document.getElementById('post').onclick = function () {
                postOrder(root);
            }
        }
        init();
    </script>
</body>

</html>